function isoManagedTagListPanel(id, namespace) {
  this.isoManagedId = id;
  this.isoManagedNamespace = namespace
  this.data = null;

  var _this = this;

  $('#tag_add').click(function() {
    if (_this.data !== null) {
      add();
    } else {
      var html = alertWarning("You need to select a tag node.");
      displayAlerts(html);
    }
  });
}

isoManagedTagListPanel.prototype.selected = function(data) {
  this.data = data;
}

isoManagedTagListPanel.prototype.add = function() {
  var _this = this;
  $.ajax({
    url: "/iso_managed/add_tag",
    data: {
      "id": _this.isoManagedId,
      "namespace": _this.isoManagedNamespace,
      "tag_id": _this.data.id,
      "tag_namespace": _this.data.namespace
    },
    dataType: 'json',
    type: 'POST',
    error: function (xhr, status, error) {
      var html = alertError("An error has occurred adding the tag.");
      displayAlerts(html);
    },
    success: function(result){
      displayAttributes(isoManagedId, isoManagedNamespace, true);
    }
  });
}