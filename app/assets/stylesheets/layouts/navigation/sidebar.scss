@import "shared/vars.scss";

#sidebar {
  min-height: 100%;
  max-height: 100%;
  
  min-width: 270px;
  max-width: 270px;
  
  position:relative;
  padding: 0px;
  overflow-y: auto;
  
  background-color: #ffffff;
  font-family: $font-light;
  color: $grey-dark;
  
  transition: all .3s ease-in;

  .arrow {
    transition: transform .3s ease-out;
    cursor: pointer;
    color: $grey-light;
  }
}

// Collapsing / expanding sidebar   
#sidebar.collapsing {

  .category-container {
    .title, ul.nav a {
      white-space: nowrap;
    }
  }

  #sidebar-controls {
    white-space: nowrap;
  }

}

// Horizontally collapsed sidebar  
#sidebar.collapsed-horizontal {
  min-width: 60px;
  max-width: 60px;
  overflow: hidden;

  // Hide Menu Items 
  .category-container {
    .title, .arrow, ul.nav {
      display: none;
      visibility: hidden;
    }
  }

  // Hide Menu Type toggle
  #menu-type-wrap {
    display: none;
  }

  // Sidebar toggle horizontal arrow 
  #sidebar-toggle-horizontal {
    transform: rotate(180deg);
  }

}

// Sidebar Menu Categories  
#sidebar {

  // Menu Category container 
  .category-container {
  
    &:hover, &:focus {
      text-decoration: none;
    }

    // Container collapsed, hides Menu Items 
    &.collapsed {
      ul.nav {
        display: none;
      }
      .arrow {
        transform: rotate(-180deg);
      }
    }

    // Menu Categories 
    .menu-category {
      display: inline-flex;
      align-items: center;
      cursor: pointer;
      width: 100%;
      height: 60px;
      color: $grey-light;

      &:hover {
        background-color: $grey-bright;
      }

      .title {
        color: $grey-medium;
      }

      .icon{
        font-size: $font-large;
        margin: 0px 18px;
      }

      // Vertical arrow in menu categories 
      .arrow {
        margin-left: auto;
        margin-right: 20px;
        display: inline-block;
      }

      // Menu category selected 
      &.selected {

        &::before {
          width: 4px;
          height: 60px;
          background: $secondary-color-medium;
          content: "";
          position: absolute;
        }

        .icon {
          color: $primary-color-light;
        }

      }

    }

    // Menu Items
    ul.nav li {
      padding-left: 20px;
      font-size: $font-small;

      a:hover, a:focus, a.selected {
        background: initial;
        font-family: $font-primary;
        color: $primary-color-light;
      }

    }
    
  }

}

// Sidebar Controls and Menu Type Toggle
#sidebar #sidebar-controls {
  height: 60px;
  padding: 0 20px;
  margin-top: 4px; // Offset heightÂ of the Navbar's bottom border 
  display: flex;
  align-items: center;

  // Menu Type Toggle
  #menu-type-wrap {
    margin-left: 30px;
  }

  .menu-type-button {
    display: inline-block;
    font-family: $font-bold;
    color: $grey-light;
    margin-left: 12px;
    cursor: pointer;

    &.active {
      color: $grey-medium;
      border-bottom: 2px solid $secondary-color-light;
    }

    &:hover {
      color: $primary-color-light;
    }

    .ttip-text {
      color: $grey-medium;
      font-size: $font-tiny;
      left: -50%;
    }

  }

  // Sidebar toggle horizontal arrow 
  #sidebar-toggle-horizontal {
    padding: 2px 6px;
  }

}

// Locked Items in Sidebar 
#sidebar {
  
  .locked {
    pointer-events: none;
    opacity: .5;
    position: relative;

    &::after {
      position: absolute;
      content: "\e943";
      font-family: 'icomoon';
      right: 20px;
      opacity: .5;
    }
  }

}

// Sidebar on narrow screens 
@media (max-width:768px) {

  #sidebar {
    min-width: 100%;
    max-width: 100%;
    position: absolute;
    z-index: 1000;

    // Vertically collapsed 
    &.collapsed-vertical {
      max-height: 0px;
      min-height: 0px;
    }

    ul.nav {
      display: block !important;
    }

    .arrow {
      display: none !important;
    }

    #sidebar-controls {
      justify-content: center;

      #menu-type-wrap{
        margin: 0;
      }
    }

  }

}

// Internet Explorer fixes
@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {

  .menu-category.selected::before {
    top: 0px;
  }

  #sidebar.collapsed-horizontal {

    .menu-type-button {
      margin-left: 12px;
      .ttip-text {
        display: none;
      }
    }

  }

}