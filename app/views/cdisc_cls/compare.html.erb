<h1><%= @title %> <small>(CDISC, <%= @identifier %>)</small></h1>
<div class="col-md-10">
	<h2>Code List Version Comparison</h2>
	<style>
	  <%= Diffy::CSS %>
	</style>
	<table class="table table-striped table-bordered table-condensed">
	  <tr>
	    <th>Version</th>
	    <th class="col-sm-1">Date</th>
	    <th class="col-sm-1">Identifier</th>
	    <th class="col-sm-1">Notation</th>
	    <th class="col-sm-2">Preferred Term</th>
	    <th class="col-sm-2">Synonym</th>
	    <th class="col-sm-2">Extensible</th>
	    <th class="col-sm-4">Definition</th>
	  </tr>
		<% @ClResults.each do |r| %>
			<tr>
		    <td><%= raw r["version"] %></td>
		    <td><%= raw r["date"] %></td>
		    <td><%= raw r["identifier"] %></td>
	      <td><%= raw r["notation"] %></td>
	      <td><%= raw r["preferredTerm"] %></td>
	      <td><%= raw r["synonym"] %></td>
	      <td><%= raw r["extensible"] %></td>
	      <td><%= raw r["definition"] %></td>
		  </tr>
		<% end %>
	</table>
	<table class="table table-striped table-bordered table-condensed">
	  <tr>
			<th>Identifier</th>
			<th>Preferred Term</th>
			<% cliEntry = @CliResults.values[0] %>
			<% result = cliEntry[:result]%>
			<% result.each do |vKey, value| %>
		    <th><%= vKey %></th>
		  <% end %>
			<th>View History</th>
		</tr>	
		<% @CliResults.each do |cliId, cliEntry| %>
			<% result = cliEntry[:result]%>
			<% cli = cliEntry[:cli]%>
			<tr>
				<td><%= cli.identifier %></td>
				<td><%= cli.preferredTerm %></td>
				<% result.each do |vKey, status| %>
		    	<%= render partial: "shared/historyCell", :locals => {:historyValue => status} %>
				<% end %>
				<td><%=link_to "History", history_cdisc_clis_path(:id => cliId), :class => "btn btn-info" %></td>
			</tr>	
		<% end %>
	</table>
</div>
