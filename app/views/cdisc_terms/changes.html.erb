<%= javascript_include_tag 'standard_datatable' %>
<% second_level_breadcrumb("CDISC Terminology", history_cdisc_terms_path, "Changes") %>
<h3>Changes: CDISC Terminology</h3>
<style>
	<%= Diffy::CSS %>
</style>
<div class="col-md-12">
	<table id="main" class="table table-striped table-bordered table-condensed">
	  <thead>
			<tr>
				<th>Identifier</th>
				<th>Label</th>
				<th>Submission Value</th>
				<% @cls[:versions].each do |result| %>
			    <th class="text-center"><%= result %></th>
			  <% end %>
				<th></th>
			</tr>
		</thead>
		<tbody>	
			<% @cls[:items].each do |key, cl| %>
			  <% s = cl[:status] %>
			  <tr>
					<td><%= key %></td>
					<td><%= cl[:label] %></td>
					<td><%= cl[:notation] %></td>
					<% s.each do |status| %>
						<% if status == :created %>
							<td class="text-center"><span class="glyphicon glyphicon-ok text-success"/></td>
						<% elsif status == :no_change %>
							<td class="text-center"><span class="glyphicon glyphicon-minus text-success"/></td>
						<% elsif status == :updated %>
							<td class="text-center"><span class="text-center glyphicon glyphicon-edit text-warning"/></td>
						<% elsif status == :deleted %>
							<td class="text-center"><span class="glyphicon glyphicon-remove text-danger"/></td>
						<% elsif status == :not_present %>
							<td class="text-center">&nbsp;</td>
						<% else %>
							<td class="text-center"><%=[status]%></td>
						<% end %>
					<% end %>
					<td><%= link_to "Changes", changes_cdisc_cls_path(id: cl[:id], cdisc_cl: {namespace: cl[:namespace]}), :class => "btn btn-primary btn-xs" %></td>
				</tr>	
			<% end %>
		</tbody>
	</table>
  <%= render partial: "shared/forward_backward", :locals => {:links => @links} %>
</div>
