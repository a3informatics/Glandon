<%= javascript_tag 'setPageTitle("CDISC Terminology Changes")' %>
<%= javascript_tag "var changes_path = '/cdisc_terms/:id/changes';" %>
<%= javascript_include_tag 'jquery-ui.min.js', 'jquery.ui.touch-punch.min.js' %>
<%= javascript_include_tag 'shared/cdisc_term/index_panel', 'shared/timeline_slider', 'shared/alph_slider', 'cdisc_term/index'%>
<%= stylesheet_link_tag 'custom/alph_filter','custom/dates_selector', media: 'all' %>

<style>
  .rowpad {
    padding-top: 20px;
  }

  html,body {
    height: unset !important;
    min-width: 768px;
  }

  #main_area{
    overflow-x: hidden !important;
  }

  #results_div .icon-filter{  margin-left:4px; }


</style>
<div class="row rowpad">
  <div class="col-md-12">
      <div class="btns-wrap">
        <div class="font-light">Shortcuts:</div>
        <%= render partial: "shared/buttons/ico_btn", :locals => {link_path: history_cdisc_terms_path, id: "btn-browse-cdisc",
          icon: "icon-browse-all", btn_text: "Browse every version of CDISC CT", btn_class: ""} %>
        <%= render partial: "shared/buttons/ico_btn", :locals => {link_path: changes_thesauri_path(@current_id), id: "btn-see-changes",
          icon: "icon-see-changes", btn_text: "See the changes across versions", btn_class: ""} %>
        <%= render partial: "shared/buttons/ico_btn", :locals => {link_path: submission_thesauri_path(@current_id), id: "btn-submission-changes",
          icon: "icon-submission-changes", btn_text: "See submission value changes across versions", btn_class: ""} %>
        <%= render partial: "shared/buttons/ico_btn", :locals => {link_path: search_thesauri_path(@latest_id), id: "btn-search-latest",
          icon: "icon-search-latest", btn_text: "Search the latest version of CDISC CT", btn_class: ""} %>
          <%= render partial: "shared/buttons/ico_btn", :locals => {link_path: thesauri_path(@latest_id), id: "btn-browse-latest",
            icon: "icon-view-circle", btn_text: "Browse the latest version of CDISC CT", btn_class: ""} %>
      </div>
  </div>
</div>
<div class="row">
  <div class="divider bg-grey-light" style="width: 90%; margin-bottom: 0px;"></div>
  <div class="col-md-12 card">
    <div class="card-header">Changes between two CDISC Terminology versions</div>
      <div class="card-content">
        <div class="row">
          <%= render partial: "shared/cdisc_terms/timeline_slider", :locals => {
            title_text: "Select versions by dragging the sliders and click Display to display changes:",
            start_year: @versions_yr_span[0], end_year: @versions_yr_span[1], versions_normalized: @versions_normalized, versions: @versions, slider_pretexts: ["from", "to"],
            button: (render partial: "shared/buttons/ico_btn", :locals => {link_path: "#", id: "go_button", icon: "icon-browse-all", btn_text: "Display", btn_class: "highlight"}).html_safe }%>
        </div>
        <div class="row rowpad">
          <div class="col-md-12">
              <div class="panel-body">
                <div id="results_div">
                  <div class="col-md-4">
                    <%= render partial: "shared/ico_header", :locals => { header_title: "Created Code List", img_path: "cdisc_terms/ct_badge_plus"} %>
                    <%= render partial: "shared/alphabetical_filter", :locals => { btn_id: "btn_f_created"} %>
                      <div class="list-wrap" id="created_div">
                        <div class='text-medium font-light text-centered no-results-msg' hidden>No results</div>
                      </div>
                  </div>
                  <div class="col-md-4">
                    <%= render partial: "shared/ico_header", :locals => { header_title: "Updated Code List", img_path: "cdisc_terms/ct_badge_update"} %>
                    <%= render partial: "shared/alphabetical_filter", :locals => { btn_id: "btn_f_updated"} %>
                    <div class="list-wrap" id="updated_div">
                      <div class='text-medium font-light text-centered no-results-msg' hidden>No results</div>
                    </div>
                  </div>
                  <div class="col-md-4">
                    <%= render partial: "shared/ico_header", :locals => { header_title: "Deleted Code List", img_path: "cdisc_terms/ct_badge_minus"} %>
                    <%= render partial: "shared/alphabetical_filter", :locals => { btn_id: "btn_f_deleted"} %>
                    <div class="list-wrap" id="deleted_div">
                      <div class='text-medium font-light text-centered no-results-msg' hidden>No results</div>
                    </div>
                  </div>
                </div>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
