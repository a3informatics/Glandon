<%= javascript_include_tag 'standard_datatable' %>
<% second_level_breadcrumb("SDTM Domains", sdtm_user_domains_path, @identifier) %>
<h3>History: <%= @identifier %></h3>
<div class="row">
	<div class="col-md-12">
		<h4>Item History</h4>
		<table id="main" class="table table-striped table-bordered table-condensed">
			<%= render partial: "shared/stdInstanceHeader" %>
			<tbody>
				<% current_item = get_current_item(@history) %>
				<% @history.each do |item| %>
					<%= render partial: "shared/stdInstanceRow", :locals => {:item => item,
						:current_item => current_item, 
		  				:showPath => sdtm_user_domain_path(:id => item.id, :sdtm_user_domain => { :namespace => item.namespace }), 
		  				:searchPath => "", 
		  				:viewPath => "",
		  				:editPath => edit_sdtm_user_domain_path(:id => item.id, :sdtm_user_domain => { :namespace => item.namespace }),
		  				:deletePath => sdtm_user_domain_path(:id => item.id, :sdtm_user_domain => { :namespace => item.namespace })} %>
				<% end %>				
			</tbody>
		</table>
	</div>
</div>
<div class="row">
	<div class="col-md-12">
		<h4>Comment History</h4>
		<table id="secondary" class="table table-striped table-bordered table-condensed">
  		<%= render partial: "shared/commentHistoryHeader" %>
  		<tbody>
    		<% @history.each do |item| %>
    			<%= render partial: "shared/commentHistoryRow", 
						:locals => { 
							:item => item,
							:editPath => edit_iso_managed_path(:id => item.id, :namespace => item.namespace) 
						} %>  
    		<% end %>
  		</tbody>
		</table>
	</div>
</div>
