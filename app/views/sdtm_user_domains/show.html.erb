<%= render partial: "shared/stdInstanceTitle", :locals => {:title => "Show:", :item => @sdtm_user_domain} %>
<div class="col-md-12">
	<h4>Details</h4>
	<table class="table table-striped table-bordered table-condensed">
		<thead>
	  		<tr>
	    		<th>Identifer</th>
	    		<th>Label</th>
	    		<th>Owner</th>
	    		<th>Internal Version</th>
	    		<th>Version</th>
	  		</tr>
		</thead>
		<tbody>
	  		<tr>
	    		<td><%= @sdtm_user_domain.identifier %></td>
			    <td><%= @sdtm_user_domain.label %></td>
			    <td><%= @sdtm_user_domain.owner %></td>
			    <td><%= @sdtm_user_domain.version %></td>
			    <td><%= @sdtm_user_domain.versionLabel %></td>
	  		</tr>
		</tbody>
	</table>
	<h4>Used Variables</h4>
	<table id="main" class="table table-striped table-bordered table-condensed">
	  	<thead>
			<tr>
		  		<th>Ordinal</th>
		  		<th>Name</th>
		  		<th>Label</th>
		  		<th>Datatype</th>
		  		<th>CT or Format</th>
		  		<th>Role</th>
		  		<th>Sub Role</th>
		  		<th>IG Notes</th>
		  		<th>Notes</th>
		  		<th>Core</th>
		  	</tr>
		</thead>
		<tbody>
			<% @sdtm_user_domain.children.each_with_index do |item, index| %>
		  	<% if item.used %>
				  <tr>
			    	<% ig_variable = @ig_variables[index] %></td>
			    	<td><%= item.ordinal %></td>
			    	<td><%= item.name %></td>
			  		<td><%= item.label %></td>
			  		<td><%= item.datatype_label %></td>
			  		<td><%= ig_variable.controlled_term_or_format %></td>
			  		<td><%= item.classification_label %></td>
			  		<td><%= item.sub_classification_label %></td>
			  		<td><%= ig_variable.notes %></td>
			  		<td><%= item.notes %></td>
			  		<td><%= item.compliance_label %></td>		  		
			  	</tr>
				<% end %>
			<% end %>
		</tbody>
	</table>
	<h4>Unused Variables</h4>
	<table id="secondary" class="table table-striped table-bordered table-condensed">
	  	<thead>
			<tr>
		  		<th>Ordinal</th>
		  		<th>Name</th>
		  		<th>Label</th>
		  		<th>Datatype</th>
		  		<th>CT or Format</th>
		  		<th>Role</th>
		  		<th>Sub Role</th>
		  		<th>IG Notes</th>
		  		<th>Notes</th>
		  		<th>Core</th>
		  	</tr>
		</thead>
		<tbody>
			<% @sdtm_user_domain.children.each_with_index do |item, index| %>
		  	<% if !item.used %>
			    <tr>
			    	<% ig_variable = @ig_variables[index] %></td>
			    	<td><%= item.ordinal %></td>
			    	<td><%= item.name %></td>
			  		<td><%= item.label %></td>
			  		<td><%= item.datatype_label %></td>
			  		<td><%= ig_variable.controlled_term_or_format %></td>
			  		<td><%= item.classification_label %></td>
			  		<td><%= item.sub_classification_label %></td>
			  		<td><%= ig_variable.notes %></td>
			  		<td><%= item.notes %></td>
			  		<td><%= item.compliance_label %></td>		  		
			  	</tr>
				<% end %>
			<% end %>
		</tbody>
	</table>
	<h4>Biomedical Concepts</h4>
	<table id="tertiary" class="table table-striped table-bordered table-condensed">
	  	<thead>
			<tr>
		  		<th>Identifer</th>
			    <th>Label</th>
			    <th>Owner</th>
			    <th>Version</th>
			    <th>Version Label</th>
		  	</tr>
		</thead>
		<tbody>
			<% @bcs.each do |bc| %>
				<tr>
		    		<td><%= bc.identifier %></td>
	    			<td><%= bc.label %></td>
	    			<td><%= bc.owner %></td>
	    			<td><%= bc.version %></td>
	    			<td><%= bc.versionLabel %></td>
		  		</tr>
			<% end %>
		</tbody>
	</table>
	<%= link_to "BC+", add_sdtm_user_domains_path(:id => @sdtm_user_domain.id, :namespace => @sdtm_user_domain.namespace), :class => "btn btn-primary" %>
	<%= link_to "BC-", remove_sdtm_user_domains_path(:id => @sdtm_user_domain.id, :namespace => @sdtm_user_domain.namespace), :class => "btn btn-danger" %>
	<%= link_to "Export JSON", export_json_sdtm_user_domains_path(:id => @sdtm_user_domain.id, :namespace => @sdtm_user_domain.namespace), :class => "btn btn-info" %>
	<%= link_to "Export Turtle", export_ttl_sdtm_user_domains_path(:id => @sdtm_user_domain.id, :namespace => @sdtm_user_domain.namespace), :class => "btn btn-info" %>
</div>
