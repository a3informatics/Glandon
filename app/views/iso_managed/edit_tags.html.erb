<%= stylesheet_link_tag    'd3_tree', 'tags', 'concerns/spinner-component' %>
<%= javascript_include_tag 'd3_tree', 'd3_editor_new', 'shared/iso_concept_systems/concept_system_view_panel', 'iso_managed/edit_tags', 'iso_managed_tag_list', 'iso_managed_list', 'iso_managed_attributes' %>
<!--  <% if Rails.env == "test" || Rails.env == "development" %>
  <%= javascript_include_tag 'rspec_helper' %>
<% end %> -->
<%= javascript_tag "var conceptSystemId = \"#{@concept_system.id}\";" %>
<%= javascript_tag "var conceptSystemNamespace = \"#{@concept_system.namespace}\";" %>
<%= javascript_tag "var isoManagedId = \"#{@iso_managed.id}\";" %>
<%= javascript_tag "var isoManagedNamespace = \"#{@iso_managed.namespace}\";" %>
<div class="row">
    <div class="col-md-7">
      <div class="panel panel-default">
        <div class="panel-heading">
          <%= render partial: "shared/stdInstanceTitlePanel", :locals => {:title => "Edit Tags:", :item => @iso_managed} %>
        </div>
        <div class="panel-body">
          <div class="tree-toolbar">
            <div class="btn-group" role="group" aria-label="First group">
              <button id="d3_minus" type="button" class="btn btn-primary">
                <i class="fa fa-minus-circle fa-lg fa-fw"></i>
              </button>
              <button id="d3_plus" type="button" class="btn  btn-primary">
                <i class="fa fa-plus-circle fa-lg fa-fw"></i>
              </button>
            </div>
            <div class="input-group" id="d3Search" >
              <input class="form-control search-tree" type="search" placeholder="search for tag" name="search-tree">
              <span class="input-group-btn">
                <button class="btn btn-default" id="clearSearch" type="button">Clear <span class="fa fa-times"></span></button>
              </span>
            </div>
          </div>
          <div class="d3-tree" id="d3">
              <!-- D3 Area -->
          </div>    
        </div>
      </div>
    </div>
  <div class="col-md-5">
    <%= render partial: "shared/isoManagedInfo"%>
    <div id="iso_managed_tag_panel" class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">Tag List</h3>
        </div>
        <div id="tag_panel" class="panel-body">
          <div id="tag_panel_spinner" class="loading-overlay">
            <div class="spinner-container">
              <img class="spinner" src="<%= asset_path('processing_medium_2.gif') %>">
            </div>
          </div>
          <div class="tags-container" id="tags_container"></div>
          <button type="button" id="tag_add" class="btn btn-primary">Add selected Tag</button>  
        </div>
    </div>
    <div id="iso_managed_panel" class="panel panel-default">
      <div class="panel-heading">
          <h3 class="panel-title">Item List</h3>
      </div>
      <div class="panel-body">
        <table id="iso_managed_table" class="table table-striped table-bordered"  cellspacing="0" width="100%">
          <thead>
              <tr> 
                  <th>Identifier</th>
                  <th>Label</th>
                  <th>Version</th>
                  <th>Version Label</th>
                  <th></th>
              </tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <input type="hidden" id="id" value="<%= @iso_managed.id %>">
  <input type="hidden" id="namespace" value="<%= @iso_managed.namespace %>" %> 
</div>