---
:parameters:
  - 
    :name: "Terminology"
    :description: "The terminology for which the submission impact is required."
    :type: :thesauri
:columns:
  :scll:
    :label: Sponsor Code List Label
    :type: literal
  :sclid:
    :label: Sponsor Code List Identifier
    :type: literal
  :sclil:
    :label: Sponsor Code List Item Label
    :type: literal
  :scliid:
    :label: Sponsor Code List Item Identifier
    :type: literal
  :sn:
    :label: Sponsor Notation
    :type: literal
  :cll:
    :label: CDISC Code List Label
    :type: literal
  :clid:
    :label: CDISC Code List Identifier
    :type: literal
  :clil:
    :label: CDISC Code List Item Label
    :type: literal
  :cliid:
    :label: CDISC Code List Item Identifier
    :type: literal
  :cn:
    :label: CDISC Notation
    :type: literal
:label: Code List Item Submission Value Impact Analysis
:query: 'PREFIX th: <http://www.assero.co.uk/Thesaurus#> 
PREFIX bo: <http://www.assero.co.uk/BusinessOperational#> 
PREFIX isoI: <http://www.assero.co.uk/ISO11179Identification#> 
PREFIX isoR: <http://www.assero.co.uk/ISO11179Registration#> 
PREFIX isoC: <http://www.assero.co.uk/ISO11179Concepts#> 
PREFIX isoT: <http://www.assero.co.uk/ISO11179Types#> 
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> 
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#> 
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#> 
PREFIX skos: <http://www.w3.org/2004/02/skos/core#> 
SELECT DISTINCT ?scll ?sclid ?sclil ?scliid ?sn ?cll ?clid ?clil ?cliid ?cn WHERE 
{ 
  VALUES ?th {[[[parameter_1]]]} 
  { 
    { 
      SELECT DISTINCT ?auth (MAX(?ctvt) as ?ctv) WHERE 
      { 
        ?th th:reference/bo:reference ?refct . 
        ?refct isoT:hasIdentifier/isoI:version ?v. 
        ?refct isoT:hasIdentifier/isoI:identifier ?ident. 
        ?refct isoT:hasState/isoR:byAuthority ?auth . 
        ?ctt isoT:hasIdentifier/isoI:identifier ?ident . 
        ?ctt isoT:hasState/isoR:byAuthority ?auth . 
        ?ctt isoT:hasIdentifier/isoI:version ?ctvt . 
        FILTER (?ctvt > ?v ) 
      } GROUP BY ?auth
    }
    ?ct rdf:type th:Thesaurus .
    ?ct isoT:hasIdentifier/isoI:version ?ctv .
    ?ct isoT:hasState/isoR:byAuthority ?auth . 
    ?th isoT:hasState/isoR:byAuthority ?auth1 . 
    ?th (th:isTopConceptReference/bo:reference) ?scl .
    ?scl isoT:hasState/isoR:byAuthority ?auth1 . 
    ?scl th:narrower ?scli .
    ?scli th:identifier ?scliid . 
    FILTER (STRSTARTS( ?scliid, "S"))
    ?scli th:notation ?sn . 
    FILTER (STRLEN(STR(?sn))>2)
    ?clis th:notation ?sn . 
    ?clis th:identifier ?cliid . 
    FILTER (STRSTARTS( ?cliid, "C"))
    ?clis isoC:label ?clil .
    ?clis th:notation ?cn . 
    ?scli isoC:label ?sclil . 
    ?clis ^th:narrower ?cl .
    ?cl isoC:label ?cll . 
    ?cl th:identifier ?clid . 
    FILTER (STRSTARTS( ?clid, "C"))
    ?scl th:identifier ?sclid . 
    ?scl isoC:label ?scll. 
  }
}'
:type: Ad Hoc Report Definition